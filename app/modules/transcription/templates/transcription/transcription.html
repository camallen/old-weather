<div>
    <div ng-show="!annotations && !isLoading">Nothing here</div>
    <div class="log-container" ng-show="annotations && !isLoading">
        <span
        us-spinner
        ng-show="isLoading"
        class="animated"
        ng-class="{
            'isLoading': isLoading,
            'fadeIn': isLoading,
            'fadeOut': !isLoading
            }"
            ></span>


    <svg class="log" masked="annotations" svg-pan-zoom="{'fit': false}" ng-class="{'annotating': isAnnotating}">
        <g class="pan-zoom">
            <g
                class="animated image-wrapper"
                ng-show="!isLoading"
                ng-class="{
                'isLoading': isLoading,
                'fadeIn': !isLoading,
                'fadeOut': isLoading
                }"
            >
                <g class="image">
                    <image
                    xlink:href="{{ subjectImage }}"
                    ng-load="subjectLoaded(); svg.reset();"
                    width="1300"
                    height="1893"
                    ></image>
                </g>

                <rect width="1300" height="1893" fill="rgba(0, 0, 0, 0.7)" mask="url(#hole)"></rect>

                <mask id="hole">
                    <rect x="0" y="0" width="1300" height="1893" fill="white"></rect>
                    <g class="annotation" ng-repeat="a in annotations" ng-show="$first">
                        <rect ng-attr-width="{{ a.width }}" ng-attr-height="{{ a.height }}" ng-attr-x="{{ a.x }}" ng-attr-y="{{ a.y }}" type="{{ a.type }}" fill="black"></rect>
                    </g>
                </mask>

            </g>
        </g>
    </svg>

    <div class="input-area" ng-style="{'top': uiPositionTop + 'px'}">
        <div>
            <form ng-submit="$event.preventDefault(); nextAnnotation()">
                <h1>{{ annotations[0].timestamp }}
                <input class="form-control input-lg" type="text" ng-model="annotationContent" autofocus>
                <button ng-click="prevAnnotation()" class="btn btn-default">Prev</button>
                <button ng-click="nextAnnotation()" class="btn btn-default">Next</button>
            </form>
        </div>
    </div>

            <div
                class="btn-group-vertical log-controls animated"
                ng-show="!isLoading"
                ng-class="{
                    'isLoading': isLoading,
                    'bounceInRight': !isLoading,
                    'bounceOutRight': isLoading
                }"
            >
                <button class="btn btn-default" ng-click="togglePan()" ng-show="isAnnotating || hasMouseEvents()">
                    <span class="glyphicon glyphicon-move" ng-show="isAnnotating"></span>
                    <span class="glyphicon glyphicon-screenshot" ng-show="!isAnnotating && hasMouseEvents()"></span>
                </button>
                <button class="btn btn-default" ng-click="panZoom.zoomIn()">
                    <span class="glyphicon glyphicon-zoom-in"></span>
                </button>
                <button class="btn btn-default" ng-click="panZoom.zoomOut()">
                    <span class="glyphicon glyphicon-zoom-out"></span>
                </button>
                <button class="btn btn-default" ng-click="panZoom.reset()">
                    <span class="glyphicon glyphicon-resize-full"></span>
                </button>
            </div>
        </div>

</div>
